{% extends 'extends/setup_interface.html' %}

{% block title %}
  Business Details
{% endblock %}

{% block section_title %}
  INITIAL SETUP
{% endblock %}

{% block section_des %} 
  Welcome! Please fill in the necessary details to configure your application. Fields marked with 
  <span class="font-bold text-red-500">*</span> are required.
{% endblock %}

{% block form_heading %} Business Details {% endblock %}

{% comment %} Setting variables that the parent utilize  {% endcomment %}
{% block left_section_var %}
  {% with prev_background="linear-gradient(45deg, #2b6f57, #1b263b)" next_background="linear-gradient(45deg, #16a34a, #4b5563)"%}
    {{block.super}}
  {% endwith %}
{% endblock left_section_var %}
{% block form_block%}
  {% with form_id="business_details_form" submit_btn=True%}
    {{block.super}}
  {% endwith %}
{% endblock %}

{% block form_fields %}
    <!-- Business Name and Logo on the same row -->
    <div class="flex space-x-4">
        <div class="w-2/3">
            <label for="business_name" class="mb-2 block text-gray-700 font-medium">
                Business Name: <span class="text-red-500">*</span>
            </label>
            <div class="input relative">
                <div class="absolute top-0 left-0 h-full flex items-center justify-center w-12">
                    <i class="fas fa-building text-lg text-green-600 transition-all duration-600 ease-in-out"></i> 
                </div>
                <input type="text" name="business_name" id="business_name" 
                value="{{ session_data.business_name|default:'' }}"
                class="w-full pl-12 py-3 pr-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                placeholder="Enter your business name" required>
            </div>
        </div>

        <div class="w-1/3 flex flex-col justify-between">
            <span for="logo" class="block text-gray-700 font-medium">
                <i class="fas fa-image text-green-600"></i> Business Logo:
            </span>
            <input type="file" name="logo" id="file-upload" class="hidden">
            <label for="file-upload" class="cursor-pointer px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition">
                <i class="fas fa-upload mr-2"></i> Upload File
            </label>
        </div>
    </div>

    {% if form.business_name.errors %}
        <div class="error text-red-500">
            {% for error in form.business_name.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Contact Number and Email Address on the same row -->
    <div class="flex space-x-4">
        <div class="w-[40%]">
            <label for="contact_number" class="mb-2 block text-gray-700 font-medium">
                Contact Number: <span class="text-red-500">*</span>
            </label>
            <div class="input relative">
                <div class="absolute top-0 left-0 h-full flex items-center justify-center w-12">
                    <i class="fas fa-phone-alt text-lg text-green-600 transition-all duration-600 ease-in-out"></i> 
                </div>
                <input type="tel" name="contact_number" id="contact_number" 
                    value="{{ session_data.contact_number|default:'' }}"
                    class="w-full pl-12 py-3 pr-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                    placeholder="Enter your business contact number" required>
            </div>
        </div>

        <div class="w-[60%]">
            <label for="email" class="mb-2 block text-gray-700 font-medium">
                Email Address: <span class="text-red-500">*</span>
            </label>
            <div class="input relative">
                <div class="absolute top-0 left-0 h-full flex items-center justify-center w-12">
                    <i class="fas fa-envelope text-lg text-green-600 transition-all duration-600 ease-in-out"></i> 
                </div>
                <input type="email" name="email" id="email"
                    value="{{ session_data.email|default:'' }}" 
                    class="w-full pl-12 py-3 pr-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                    placeholder="Enter your business email" required>
            </div>
            
        </div>
    </div>

    {% if form.phone_number.errors %}
        <div class="error text-red-500">
            {% for error in form.phone_number.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    {% if form.email.errors %}
        <div class="error text-red-500">
            {% for error in form.email.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Business Address and TIN on the same row -->
    <div class="flex space-x-4">
        <div class="flex-1 h-[108px] flex flex-col justify-between">
            <label for="business_address" class="mb-2 block text-gray-700 font-medium">
                Business Address: <span class="text-red-500">*</span>
            </label>
            <div class="input relative">
                <div class="absolute top-0 left-0 h-full flex items-center justify-center w-12">
                    <i class="fas fa-map-marker-alt text-lg text-green-600 transition-all duration-600 ease-in-out"></i> 
                </div>
                <input type="text" name="business_address" id="business_address" 
                    value="{{ session_data.business_address|default:'' }}"
                    class="w-full pl-12 py-3 pr-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                    placeholder="Enter your business address" required>          
            </div>
            
        </div>

        <div class="w-[30%]">
            <label for="tin" class="mb-2 block text-gray-700 font-medium">
                Tax Identification Number (TIN): <span class="text-red-500">*</span>
            </label>
            <div class="input relative">
                <div class="absolute top-0 left-0 h-full flex items-center justify-center w-12">
                    <i class="fas fa-id-card text-lg text-green-600 transition-all duration-600 ease-in-out"></i> 
                </div>
                <input type="text" name="tin" id="tin"
                    value="{{ session_data.tin|default:'' }}"
                    class="w-full pl-12 py-3 pr-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500"
                    placeholder="Enter your TIN" required>
            </div>
            
        </div>
    </div>

    {% if form.tin.errors %}
        <div class="error text-red-500">
            {% for error in form.tin.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Error handling for non-field errors -->
    {% if form.non_field_errors %}
        <div class="error text-red-500 mb-2">
            {% for error in form.non_field_errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}
  
                  